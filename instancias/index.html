<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>RagGuias — Instâncias</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:linear-gradient(135deg,#050b18,#0f1b2c);
  color:#fff;
}
#pagina{max-width:1256px;margin:auto;padding:20px}

/* Header */
#header{display:flex;align-items:center;gap:15px;margin-bottom:25px}
#btn-voltar{
  padding:8px 14px;border-radius:10px;border:none;
  background:#020617;color:#7cfbff;font-weight:bold;cursor:pointer;
  box-shadow:0 0 12px rgba(0,240,255,.4)
}
#btn-voltar:hover{box-shadow:0 0 22px rgba(0,240,255,.8)}

/* Logo */
#logo-text{
  font-size:30px;font-weight:900;letter-spacing:3px;
  color:transparent;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-image: linear-gradient(90deg,#00f0ff,#fff,#00f0ff);
  background-size:300% 100%;
  animation:flashLightning 2s infinite;
}
@keyframes flashLightning{
  0%{background-position:0}
  100%{background-position:300%}
}

/* Search */
#search-bar{
  width:100%;padding:14px;margin-bottom:25px;
  border-radius:14px;border:none;outline:none;
  background:#020617;color:#fff;font-size:16px;
  box-shadow:0 0 20px rgba(0,240,255,.3)
}

/* Grid */
#instance-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:18px
}

/* Card */
.instance-card{
  background:linear-gradient(135deg,#0f1b2c,#020617);
  border-radius:18px;padding:14px;
  box-shadow:0 0 22px rgba(0,255,255,.35);
  transition:.3s;display:flex;flex-direction:column
}
.instance-card:hover{
  transform:translateY(-4px);
  box-shadow:0 0 40px rgba(0,255,255,.6)
}
.instance-card img{
  width:100%;height:160px;object-fit:cover;
  border-radius:14px;margin-bottom:8px;
  background:#020617
}
.instance-card h3{
  margin:4px 0 6px;font-size:18px;
  text-shadow:0 0 8px rgba(0,240,255,.7)
}
.instance-info{font-size:13px;line-height:1.6}
.instance-info span{color:#7cfbff}

/* Buttons */
.card-actions{
  display:flex;gap:8px;margin-top:auto
}
.card-actions button,
.card-actions a{
  flex:1;padding:8px;border-radius:10px;
  border:none;background:#020617;color:#7cfbff;
  font-size:13px;text-align:center;
  cursor:pointer;text-decoration:none;
  box-shadow:0 0 10px rgba(0,240,255,.3)
}
.card-actions button:hover,
.card-actions a:hover{
  box-shadow:0 0 18px rgba(0,240,255,.7)
}

/* Modal */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.85);
  display:none;align-items:center;justify-content:center;
  z-index:999
}
.modal.active{display:flex}
.modal-box{
  background:linear-gradient(135deg,#020617,#0f1b2c);
  padding:22px;border-radius:20px;
  max-width:420px;width:90%;
  box-shadow:0 0 40px rgba(0,255,255,.6)
}
.modal-box h2{
  text-align:center;
  color:#7cfbff;
  margin-bottom:10px
}
.modal-box p{
  font-size:14px;
  line-height:1.6;
  color:#e5e7eb
}

/* DROPS (AJUSTE NOVO) */
.drop-list{
  margin-top:15px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(80px,1fr));
  gap:12px
}
.drop-item{
  text-align:center;
  font-size:12px
}
.drop-item img{
  width:48px;
  height:48px;
  object-fit:contain;
  margin-bottom:4px;
  filter:drop-shadow(0 0 6px rgba(0,255,255,.6))
}

/* Pagination */
#pagination{
  display:flex;justify-content:center;
  gap:10px;margin-top:30px
}
.page-btn{
  padding:8px 14px;border-radius:10px;
  border:none;background:#020617;color:#fff;
  cursor:pointer;font-weight:bold
}
.page-btn.active{background:#00f0ff;color:#000}
</style>
</head>

<body>
<div id="pagina">

<div id="header">
  <button id="btn-voltar" onclick="location.href='index.html'">PAGINA INICIAL</button>
  <div id="logo-text">RagGuias</div>
</div>

<input id="search-bar" placeholder="Pesquisar instância...">

<div id="instance-grid"></div>
<div id="pagination"></div>

</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h2 id="modal-title"></h2>
    <p id="modal-content"></p>
    <div id="modal-drops" class="drop-list"></div>
  </div>
</div>

<script>
/* ===== INSTÂNCIAS ===== */
const instances=[
  {
    name:"Torre sem Fim",
    img:"https://media.discordapp.net/attachments/1462255639995744410/1462259110950211645/ezgif-37ae0addc8902a28.png?ex=696d8a6b&is=696c38eb&hm=ced7629cb3a9cd69c1bbff0e57619fb3ca8c8c2fbf80fabe99072834ef2177af&=&format=webp&quality=lossless",
    lv:"50+",
    players:"1 pessoa ou mais",
    cooldown:"7 dias",
    bosses:"Vários MVPS",
    description:"No horizonte de Alberta, avista-se uma ilha misteriosa com uma Torre que chegava até as nuvens. Quem será que terá a coragem necessária para chegar ao topo dessa torre maldita?",
    drops:[
      {name:"Carta MVP",icon:"https://www.divine-pride.net/img/items/item/4139.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
    ]
  },
  {
    name:"Maldição de Glastheim",
    img:"https://media.discordapp.net/attachments/1462255639995744410/1462265438477221929/ezgif-22042c84cc3a5f32.png?ex=696d9050&is=696c3ed0&hm=bd13963ac67bc057638eeadb0e69358a7a5fc3a1ea4a1aa4a53fe80815fac0a7&=&format=webp&quality=lossless",
    lv:"130+",
    players:"1 pessoa ou mais",
    cooldown:"Reseta 4h da manhã",
    bosses:"Origem da Maldição & Amdarais",
    description:"Conheça a história por trás da ruína da antiga capital do reino de Rune-Midgard e conheça Himmelmez, uma das valquírias mais poderosas de Midgard.",
    drops:[
      {name:"Carta MVP",icon:"https://www.divine-pride.net/img/items/item/4139.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
    ]
  },
  {
    name:"Glastheim Sombria",
    img:"https://media.discordapp.net/attachments/1462255639995744410/1462259110950211645/ezgif-37ae0addc8902a28.png?ex=696d8a6b&is=696c38eb&hm=ced7629cb3a9cd69c1bbff0e57619fb3ca8c8c2fbf80fabe99072834ef2177af&=&format=webp&quality=lossless",
    lv:"160+",
    players:"1 pessoa ou mais",
    cooldown:"Reseta em 3 dias às 4h da manhã",
    bosses:"Origem da Escuridão & Amdarais Sombrio",
    description:"Nessa versão mais difícil, conheça a história por trás da ruína da antiga capital do reino de Rune-Midgard e conheça Himmelmez, uma das valquírias mais poderosas de Midgard.",
    drops:[
      {name:"Carta MVP",icon:"https://www.divine-pride.net/img/items/item/4139.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
    ]
  },
  {
    name:"Fábrica do Terror",
    img:"https://media.discordapp.net/attachments/1462255639995744410/1462259110950211645/ezgif-37ae0addc8902a28.png?ex=696d8a6b&is=696c38eb&hm=ced7629cb3a9cd69c1bbff0e57619fb3ca8c8c2fbf80fabe99072834ef2177af&=&format=webp&quality=lossless",
    lv:"140+",
    players:"1 pessoa ou mais",
    cooldown:"Reseta 4h da manhã",
    bosses:"Celine Kimi",
    description:"Talvez eu esteja criando algo maravilhoso. O que eu criei parece mais ser minha filha do que uma boneca. Quando você receber esta carta, já terei terminado meu trabalho. Gostaria de mostrar minha última criação – não – minha filha, pra você.”",
    drops:[
      {name:"Carta MVP",icon:"https://www.divine-pride.net/img/items/item/4139.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
      {name:"Equipamento Raro",icon:"https://www.divine-pride.net/img/items/item/13050.png"},
    ]
  },
  /* ===== nova insta abaixo===== */

];

const perPage=4;
let currentPage=1;
let filtered=[...instances];

const grid=document.getElementById("instance-grid");
const pagination=document.getElementById("pagination");

function render(){
  grid.innerHTML="";
  const start=(currentPage-1)*perPage;
  filtered.slice(start,start+perPage).forEach(i=>{
    grid.innerHTML+=`
    <div class="instance-card">
      <img src="${i.img}">
      <h3>${i.name}</h3>
      <div class="instance-info">
        <div><span>Nível:</span> ${i.lv}</div>
        <div><span>Jogadores:</span> ${i.players}</div>
        <div><span>Cooldown:</span> ${i.cooldown}</div>
        <div><span>Chefes:</span> ${i.bosses}</div>
      </div>
      <div class="card-actions">
        <button onclick='openModal("${i.name}","${i.description}",${JSON.stringify(i.drops)})'>Detalhes</button>
        <a href="https://browiki.org/wiki/Torre_sem_Fim" target="_blank">Fonte</a>
      </div>
    </div>`;
  });
  renderPagination();
}

function renderPagination(){
  pagination.innerHTML="";
  const pages=Math.ceil(filtered.length/perPage);
  for(let i=1;i<=pages;i++){
    pagination.innerHTML+=`<button class="page-btn ${i===currentPage?"active":""}" onclick="currentPage=${i};render()">${i}</button>`;
  }
}

document.getElementById("search-bar").addEventListener("input",e=>{
  const q=e.target.value.toLowerCase();
  filtered=instances.filter(i=>i.name.toLowerCase().includes(q));
  currentPage=1;render();
});

/* AJUSTE DO MODAL */
function openModal(title,content,drops=[]){
  document.getElementById("modal-title").textContent=title;
  document.getElementById("modal-content").textContent=content;

  const box=document.getElementById("modal-drops");
  box.innerHTML="";
  drops.forEach(d=>{
    box.innerHTML+=`
      <div class="drop-item">
        <img src="${d.icon}">
        <div>${d.name}</div>
      </div>`;
  });

  document.getElementById("modal").classList.add("active");
}

document.getElementById("modal").onclick=e=>{
  if(e.target.id==="modal") e.target.classList.remove("active");
};
document.addEventListener("keydown",e=>{
  if(e.key==="Escape") document.getElementById("modal").classList.remove("active");
});

render();
</script>

</body>
</html>
